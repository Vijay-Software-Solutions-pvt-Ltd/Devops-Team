import{r as l,u as h,j as e,N as g,L as m,x as y,B as b,E as u}from"./index-DyprfCce.js";import{a as x}from"./api-Bbd7J0M8.js";function w(){const[r,o]=l.useState([]),c=h();l.useEffect(()=>{p()},[]);async function p(){try{const i=await x.get("/admin/exams/assigned");i.data&&i.data.exams&&o(i.data.exams)}catch(i){console.error("Failed to fetch exams",i)}}async function f(i){var n,d;if(confirm("Are you sure you want to delete this exam? This action cannot be undone."))try{await x.delete(`/admin/exams/${i}`),o(r.filter(s=>s.id!==i))}catch(s){alert("Failed to delete exam: "+(((d=(n=s.response)==null?void 0:n.data)==null?void 0:d.error)||s.message))}}return e.jsxs("div",{style:t.container,children:[e.jsxs("div",{style:a.header,children:[e.jsxs("div",{children:[e.jsxs("h1",{style:a.title,children:[e.jsx(g,{style:{marginRight:10}})," Manage Exams"]}),e.jsx("p",{style:a.subtitle,children:"Create, edit, and assign exams to organizations"})]}),e.jsxs(m,{to:"/admin/create-exam",style:a.primaryButton,children:[e.jsx(y,{style:{marginRight:6}})," Create New Exam"]})]}),e.jsx("div",{style:t.card,children:e.jsxs("table",{style:t.table,children:[e.jsx("thead",{children:e.jsxs("tr",{style:t.theadRow,children:[e.jsx("th",{style:t.th,children:"Title"}),e.jsx("th",{style:t.th,children:"Organization"}),e.jsx("th",{style:t.th,children:"Start Date"}),e.jsx("th",{style:t.th,children:"Duration"}),e.jsx("th",{style:t.th,children:"Actions"})]})}),e.jsxs("tbody",{children:[r.map((i,n)=>e.jsxs("tr",{style:n%2===0?t.trEven:t.trOdd,children:[e.jsxs("td",{style:t.td,children:[e.jsx("div",{style:t.examTitle,children:i.title}),e.jsx("div",{style:t.examDesc,children:i.description||"No description"})]}),e.jsxs("td",{style:t.td,children:[e.jsx("div",{style:t.orgNameText,children:i.org_name||"N/A"}),e.jsx("div",{style:t.orgIdText,children:i.assigned_org_id||""})]}),e.jsx("td",{style:t.td,children:i.start_date?new Date(i.start_date).toLocaleString():"N/A"}),e.jsxs("td",{style:t.td,children:[i.duration_minutes," min"]}),e.jsxs("td",{style:t.td,children:[e.jsxs("button",{style:t.actionBtn,onClick:()=>c(`/admin/edit-exam/${i.id}`),children:[e.jsx(b,{})," Edit"]}),e.jsxs("button",{style:{...t.actionBtn,color:"#ef4444",marginLeft:8},onClick:()=>f(i.id),children:[e.jsx(u,{})," Delete"]})]})]},i.id)),r.length===0&&e.jsx("tr",{children:e.jsx("td",{colSpan:"5",style:{padding:20,textAlign:"center",color:"#888"},children:"No exams found."})})]})]})})]})}const a={header:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"32px",background:"#fff",padding:"24px 32px",borderRadius:"16px",boxShadow:"0 4px 20px rgba(0,0,0,0.05)",border:"1px solid #e2e8f0"},title:{fontSize:"24px",fontWeight:"700",color:"#0f172a",display:"flex",alignItems:"center",margin:0},subtitle:{fontSize:"14px",color:"#64748b",marginTop:"4px",margin:0},primaryButton:{background:"#2563eb",color:"#fff",padding:"12px 24px",borderRadius:"10px",textDecoration:"none",fontWeight:"600",display:"flex",alignItems:"center",boxShadow:"0 4px 12px rgba(37,99,235,0.2)",fontSize:"14px"}},t={container:{padding:"32px",maxWidth:"1400px",margin:"0 auto",fontFamily:"'Inter', sans-serif"},card:{background:"#fff",borderRadius:"16px",overflow:"hidden",boxShadow:"0 4px 20px rgba(0,0,0,0.03)",border:"1px solid #e2e8f0"},table:{width:"100%",borderCollapse:"collapse"},theadRow:{background:"#f8fafc",borderBottom:"1px solid #e2e8f0"},th:{padding:"16px 24px",textAlign:"left",fontSize:"13px",fontWeight:"600",color:"#64748b",textTransform:"uppercase",letterSpacing:"0.5px"},trEven:{background:"#fff"},trOdd:{background:"#fcfcfc"},td:{padding:"16px 24px",borderBottom:"1px solid #f1f5f9",fontSize:"14px",color:"#334155",verticalAlign:"middle"},examTitle:{fontWeight:"600",color:"#0f172a",marginBottom:"4px",fontSize:"15px"},examDesc:{fontSize:"13px",color:"#64748b",maxWidth:"350px",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},orgNameText:{fontSize:"14px",fontWeight:"600",color:"#334155"},orgIdText:{fontSize:"11px",fontFamily:"monospace",color:"#94a3b8",background:"#f1f5f9",padding:"2px 6px",borderRadius:"4px",display:"inline-block",marginTop:"4px"},actionBtn:{background:"#fff",border:"1px solid #cbd5e1",borderRadius:"8px",padding:"8px 12px",cursor:"pointer",fontSize:"13px",fontWeight:"600",color:"#475569",display:"inline-flex",alignItems:"center",gap:"6px",transition:"all 0.2s",boxShadow:"0 1px 2px rgba(0,0,0,0.05)"}};export{w as default};
//# sourceMappingURL=AdminExams-BT6OxwNu.js.map
