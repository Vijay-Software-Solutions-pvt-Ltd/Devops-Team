{"version":3,"file":"AdminExams-BT6OxwNu.js","sources":["../../src/pages/admin/AdminExams.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport api from '../../services/api';\nimport { Link, useNavigate } from 'react-router-dom';\nimport { FiTrash2, FiEdit, FiPlus, FiList } from 'react-icons/fi';\n\nexport default function AdminExams() {\n    const [exams, setExams] = useState([]);\n    const navigate = useNavigate();\n\n    useEffect(() => {\n        fetchExams();\n    }, []);\n\n    async function fetchExams() {\n        try {\n            // NOTE: reusing assigned endpoint because validation for admin returns all\n            const res = await api.get('/admin/exams/assigned');\n            if (res.data && res.data.exams) {\n                setExams(res.data.exams);\n            }\n        } catch (err) {\n            console.error(\"Failed to fetch exams\", err);\n        }\n    }\n\n    async function deleteExam(id) {\n        if (!confirm(\"Are you sure you want to delete this exam? This action cannot be undone.\")) return;\n        try {\n            await api.delete(`/admin/exams/${id}`);\n            setExams(exams.filter(e => e.id !== id));\n        } catch (err) {\n            alert(\"Failed to delete exam: \" + (err.response?.data?.error || err.message));\n        }\n    }\n\n    return (\n        <div style={styles.container}>\n            <div style={commonStyles.header}>\n                <div>\n                    <h1 style={commonStyles.title}><FiList style={{ marginRight: 10 }} /> Manage Exams</h1>\n                    <p style={commonStyles.subtitle}>Create, edit, and assign exams to organizations</p>\n                </div>\n                <Link to=\"/admin/create-exam\" style={commonStyles.primaryButton}>\n                    <FiPlus style={{ marginRight: 6 }} /> Create New Exam\n                </Link>\n            </div>\n\n            <div style={styles.card}>\n                <table style={styles.table}>\n                    <thead>\n                        <tr style={styles.theadRow}>\n                            <th style={styles.th}>Title</th>\n                            <th style={styles.th}>Organization</th>\n                            <th style={styles.th}>Start Date</th>\n                            <th style={styles.th}>Duration</th>\n                            <th style={styles.th}>Actions</th>\n                        </tr>\n                    </thead>\n                    <tbody>\n                        {exams.map((exam, i) => (\n                            <tr key={exam.id} style={i % 2 === 0 ? styles.trEven : styles.trOdd}>\n                                <td style={styles.td}>\n                                    <div style={styles.examTitle}>{exam.title}</div>\n                                    <div style={styles.examDesc}>{exam.description || 'No description'}</div>\n                                </td>\n                                <td style={styles.td}>\n                                    <div style={styles.orgNameText}>{exam.org_name || 'N/A'}</div>\n                                    <div style={styles.orgIdText}>{exam.assigned_org_id || ''}</div>\n                                </td>\n                                <td style={styles.td}>\n                                    {exam.start_date ? new Date(exam.start_date).toLocaleString() : 'N/A'}\n                                </td>\n                                <td style={styles.td}>{exam.duration_minutes} min</td>\n                                <td style={styles.td}>\n                                    <button style={styles.actionBtn} onClick={() => navigate(`/admin/edit-exam/${exam.id}`)}>\n                                        <FiEdit /> Edit\n                                    </button>\n                                    <button style={{ ...styles.actionBtn, color: '#ef4444', marginLeft: 8 }} onClick={() => deleteExam(exam.id)}>\n                                        <FiTrash2 /> Delete\n                                    </button>\n                                </td>\n                            </tr>\n                        ))}\n                        {exams.length === 0 && (\n                            <tr>\n                                <td colSpan=\"5\" style={{ padding: 20, textAlign: 'center', color: '#888' }}>\n                                    No exams found.\n                                </td>\n                            </tr>\n                        )}\n                    </tbody>\n                </table>\n            </div>\n        </div>\n    );\n}\n\nconst commonStyles = {\n    header: {\n        display: 'flex',\n        justifyContent: 'space-between',\n        alignItems: 'center',\n        marginBottom: '32px',\n        background: '#fff',\n        padding: '24px 32px',\n        borderRadius: '16px',\n        boxShadow: '0 4px 20px rgba(0,0,0,0.05)',\n        border: '1px solid #e2e8f0'\n    },\n    title: {\n        fontSize: '24px',\n        fontWeight: '700',\n        color: '#0f172a',\n        display: 'flex',\n        alignItems: 'center',\n        margin: 0\n    },\n    subtitle: {\n        fontSize: '14px',\n        color: '#64748b',\n        marginTop: '4px',\n        margin: 0\n    },\n    primaryButton: {\n        background: '#2563eb',\n        color: '#fff',\n        padding: '12px 24px',\n        borderRadius: '10px',\n        textDecoration: 'none',\n        fontWeight: '600',\n        display: 'flex',\n        alignItems: 'center',\n        boxShadow: '0 4px 12px rgba(37,99,235,0.2)',\n        fontSize: '14px'\n    }\n};\n\nconst styles = {\n    container: {\n        padding: '32px',\n        maxWidth: '1400px',\n        margin: '0 auto',\n        fontFamily: \"'Inter', sans-serif\"\n    },\n    card: {\n        background: '#fff',\n        borderRadius: '16px',\n        overflow: 'hidden',\n        boxShadow: '0 4px 20px rgba(0,0,0,0.03)',\n        border: '1px solid #e2e8f0'\n    },\n    table: {\n        width: '100%',\n        borderCollapse: 'collapse'\n    },\n    theadRow: {\n        background: '#f8fafc',\n        borderBottom: '1px solid #e2e8f0'\n    },\n    th: {\n        padding: '16px 24px',\n        textAlign: 'left',\n        fontSize: '13px',\n        fontWeight: '600',\n        color: '#64748b',\n        textTransform: 'uppercase',\n        letterSpacing: '0.5px'\n    },\n    trEven: { background: '#fff' },\n    trOdd: { background: '#fcfcfc' },\n    td: {\n        padding: '16px 24px',\n        borderBottom: '1px solid #f1f5f9',\n        fontSize: '14px',\n        color: '#334155',\n        verticalAlign: 'middle'\n    },\n    examTitle: {\n        fontWeight: '600',\n        color: '#0f172a',\n        marginBottom: '4px',\n        fontSize: '15px'\n    },\n    examDesc: {\n        fontSize: '13px',\n        color: '#64748b',\n        maxWidth: '350px',\n        whiteSpace: 'nowrap',\n        overflow: 'hidden',\n        textOverflow: 'ellipsis'\n    },\n    orgNameText: {\n        fontSize: '14px',\n        fontWeight: '600',\n        color: '#334155'\n    },\n    orgIdText: {\n        fontSize: '11px',\n        fontFamily: 'monospace',\n        color: '#94a3b8',\n        background: '#f1f5f9',\n        padding: '2px 6px',\n        borderRadius: '4px',\n        display: 'inline-block',\n        marginTop: '4px'\n    },\n    actionBtn: {\n        background: '#fff',\n        border: '1px solid #cbd5e1',\n        borderRadius: '8px',\n        padding: '8px 12px',\n        cursor: 'pointer',\n        fontSize: '13px',\n        fontWeight: '600',\n        color: '#475569',\n        display: 'inline-flex',\n        alignItems: 'center',\n        gap: '6px',\n        transition: 'all 0.2s',\n        boxShadow: '0 1px 2px rgba(0,0,0,0.05)'\n    }\n};\n"],"names":["AdminExams","exams","setExams","useState","navigate","useNavigate","useEffect","fetchExams","res","api","err","deleteExam","id","e","_b","_a","jsxs","styles","commonStyles","jsx","FiList","Link","FiPlus","exam","i","FiEdit","FiTrash2"],"mappings":"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"}