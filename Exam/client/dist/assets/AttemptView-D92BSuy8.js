import{a as p,r as n,j as e,o as x,s as f,f as g,h,M as m}from"./index-DyprfCce.js";import{a as y}from"./api-Bbd7J0M8.js";import{S as u}from"./StudentHeader-D8YSWgEa.js";function S(){const{id:i}=p(),[l,d]=n.useState(null);if(n.useEffect(()=>{y.get(`/admin/attempts/${i}`).then(s=>d(s.data)).catch(s=>console.error(s))},[i]),!l)return e.jsx("div",{style:t.loading,children:"Loading attempt data..."});const{attempt:a,answers:c,logs:o,snapshots:r}=l;return e.jsxs(e.Fragment,{children:[e.jsx(u,{}),e.jsxs("div",{style:t.container,children:[e.jsxs("div",{style:t.header,children:[e.jsx("h1",{style:t.title,children:"Attempt Analysis"}),e.jsxs("p",{style:t.subtitle,children:["Detailed review of exam session ",i]})]}),e.jsxs("div",{style:t.card,children:[e.jsxs("div",{style:t.cardHeader,children:[e.jsx("span",{style:t.iconBox,children:e.jsx(x,{})}),e.jsx("h3",{style:t.cardTitle,children:"Performance Summary"})]}),e.jsxs("div",{style:t.statGrid,children:[e.jsxs("div",{style:t.statItem,children:[e.jsx("span",{style:t.statLabel,children:"Total Score"}),e.jsx("span",{style:t.statValue,children:a.total_score||0})]}),e.jsxs("div",{style:t.statItem,children:[e.jsx("span",{style:t.statLabel,children:"User ID"}),e.jsx("span",{style:t.statValueSm,children:a.user_id})]}),e.jsxs("div",{style:t.statItem,children:[e.jsx("span",{style:t.statLabel,children:"Status"}),e.jsx("span",{style:{...t.badge,background:a.status==="submitted"?"#dcfce7":"#fee2e2",color:a.status==="submitted"?"#166534":"#991b1b"},children:a.status||"Unknown"})]})]})]}),e.jsxs("div",{style:t.row,children:[e.jsxs("div",{style:{...t.card,flex:1},children:[e.jsxs("div",{style:t.cardHeader,children:[e.jsx("span",{style:{...t.iconBox,background:"#fef3c7",color:"#d97706"},children:e.jsx(f,{})}),e.jsx("h3",{style:t.cardTitle,children:"Activity Log"})]}),e.jsx("div",{style:t.logList,children:o.length===0?e.jsx("p",{style:t.empty,children:"No logs recorded."}):o.map(s=>e.jsxs("div",{style:t.logItem,children:[e.jsx("div",{style:t.logTime,children:new Date(s.event_ts).toLocaleTimeString()}),e.jsxs("div",{style:t.logContent,children:[e.jsx("div",{style:t.logType,children:s.event_type}),e.jsx("div",{style:t.logMeta,children:JSON.stringify(s.meta)})]})]},s.id))})]}),e.jsxs("div",{style:{...t.card,flex:1},children:[e.jsxs("div",{style:t.cardHeader,children:[e.jsx("span",{style:{...t.iconBox,background:"#e0e7ff",color:"#4338ca"},children:e.jsx(g,{})}),e.jsxs("h3",{style:t.cardTitle,children:["Snapshots (",r.length,")"]})]}),e.jsxs("div",{style:t.snapGrid,children:[r.map(s=>e.jsxs("div",{style:t.snapItem,children:[e.jsx("div",{style:t.snapPlaceholder,children:e.jsx(h,{size:24,color:"#cbd5e1"})}),e.jsx("div",{style:t.snapMeta,children:new Date(s.captured_at).toLocaleTimeString()})]},s.id)),r.length===0&&e.jsx("p",{style:t.empty,children:"No snapshots captured."})]})]})]}),e.jsxs("div",{style:t.card,children:[e.jsxs("div",{style:t.cardHeader,children:[e.jsx("span",{style:{...t.iconBox,background:"#f3f4f6",color:"#1f2937"},children:e.jsx(m,{})}),e.jsx("h3",{style:t.cardTitle,children:"Submitted Answers"})]}),e.jsx("div",{style:t.codeBlock,children:JSON.stringify(c,null,2)})]})]})]})}const t={container:{padding:"32px",maxWidth:"1200px",margin:"0 auto",fontFamily:"'Inter', sans-serif",background:"#f8fafc",minHeight:"100vh"},loading:{padding:"40px",textAlign:"center",fontSize:"18px",color:"#64748b"},header:{marginBottom:"32px"},title:{fontSize:"28px",fontWeight:"800",color:"#0f172a",marginBottom:"8px"},subtitle:{fontSize:"16px",color:"#64748b"},card:{background:"#fff",borderRadius:"16px",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)",padding:"24px",marginBottom:"24px",border:"1px solid #e2e8f0"},cardHeader:{display:"flex",alignItems:"center",marginBottom:"20px",gap:"12px"},iconBox:{width:"32px",height:"32px",borderRadius:"8px",background:"#dbeafe",color:"#1e40af",display:"flex",alignItems:"center",justifyContent:"center"},cardTitle:{fontSize:"18px",fontWeight:"600",color:"#1e293b",margin:0},statGrid:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"24px"},statItem:{display:"flex",flexDirection:"column"},statLabel:{fontSize:"13px",fontWeight:"600",color:"#64748b",marginBottom:"4px",textTransform:"uppercase",letterSpacing:"0.05em"},statValue:{fontSize:"24px",fontWeight:"700",color:"#0f172a"},statValueSm:{fontSize:"16px",fontWeight:"500",color:"#334155",fontFamily:"monospace"},badge:{alignSelf:"flex-start",padding:"4px 8px",borderRadius:"4px",fontSize:"12px",fontWeight:"600"},row:{display:"flex",gap:"24px",flexWrap:"wrap"},logList:{maxHeight:"400px",overflowY:"auto"},logItem:{display:"flex",gap:"12px",marginBottom:"12px",fontSize:"14px",borderLeft:"2px solid #e2e8f0",paddingLeft:"12px",paddingBottom:"12px"},logTime:{minWidth:"70px",fontSize:"12px",color:"#94a3b8",fontWeight:"500"},logContent:{flex:1},logType:{fontWeight:"600",color:"#334155",marginBottom:"2px"},logMeta:{fontSize:"12px",color:"#64748b",background:"#f1f5f9",padding:"4px",borderRadius:"4px",wordBreak:"break-all"},snapGrid:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(100px, 1fr))",gap:"12px"},snapItem:{background:"#f8fafc",borderRadius:"8px",padding:"8px",border:"1px solid #e2e8f0"},snapPlaceholder:{width:"100%",height:"60px",background:"#e2e8f0",borderRadius:"4px",display:"flex",alignItems:"center",justifyContent:"center",marginBottom:"8px"},snapMeta:{fontSize:"11px",color:"#64748b",textAlign:"center"},codeBlock:{background:"#1e293b",color:"#f1f5f9",padding:"16px",borderRadius:"8px",fontFamily:"monospace",fontSize:"13px",overflowX:"auto",whiteSpace:"pre-wrap"},empty:{color:"#cbd5e1",fontStyle:"italic",fontSize:"14px"}};export{S as default};
//# sourceMappingURL=AttemptView-D92BSuy8.js.map
