{"version":3,"file":"Checkout-D3D64LFa.js","sources":["../../src/pages/payment/Checkout.jsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { useLocation, useNavigate } from \"react-router-dom\";\n\nconst BASE_URL = import.meta.env.DEV\n    ? \"http://localhost:5000\"\n    : \"https://razorpay-backend-931100197216.asia-south1.run.app\";\n\nexport default function Checkout() {\n    const location = useLocation();\n    const navigate = useNavigate();\n\n    // Parse query params to get plan details\n    const searchParams = new URLSearchParams(location.search);\n    const plan = searchParams.get(\"plan\") || \"institutional\";\n    const amountParam = searchParams.get(\"amount\");\n    const overrideAmount = amountParam ? parseInt(amountParam, 10) : null;\n\n    let baseAmount = overrideAmount;\n    if (!baseAmount) {\n        if (plan === \"institutional\") baseAmount = 420000;\n        else if (plan === \"flexi\") baseAmount = 18000;\n        else baseAmount = 10000; // fallback\n    }\n\n    const [form, setForm] = useState({\n        orgName: \"\", firstName: \"\", lastName: \"\", email: \"\", phone: \"\",\n        password: \"\", confirmPassword: \"\",\n        street: \"\", city: \"\", state: \"\", zipCode: \"\", country: \"\"\n    });\n    const [coupon, setCoupon] = useState(\"\");\n    const [loading, setLoading] = useState(false);\n    const [discount, setDiscount] = useState(0);\n    const [isCouponApplied, setIsCouponApplied] = useState(false);\n    const [couponError, setCouponError] = useState(\"\");\n\n    const handleChange = (e) => setForm({ ...form, [e.target.name]: e.target.value });\n\n    // Since it's a microservice, we will use the fetch API\n    const validateCoupon = async () => {\n        try {\n            const response = await fetch(`${BASE_URL}/api/coupons/validate`, {\n                method: \"POST\",\n                headers: { \"Content-Type\": \"application/json\" },\n                body: JSON.stringify({ couponCode: coupon, trainingId: plan === \"institutional\" ? 1 : 2 }) // fallback training IDs to bypass required fields\n            });\n            const data = await response.json();\n            if (data.valid) {\n                const discountAmount = Math.round(baseAmount * (data.discount_percent / 100));\n                setDiscount(discountAmount);\n                setIsCouponApplied(true);\n                setCouponError(\"\");\n            } else {\n                throw new Error(data.message || \"Invalid coupon\");\n            }\n        } catch (err) {\n            setDiscount(0);\n            setIsCouponApplied(false);\n            setCouponError(err.message || \"Invalid or expired coupon\");\n        }\n    };\n\n    const handlePayNow = async (e) => {\n        e.preventDefault();\n\n        if (form.password !== form.confirmPassword) {\n            alert(\"Passwords do not match\");\n            return;\n        }\n\n        setLoading(true);\n\n        try {\n            // Need a new or modified backend route to handle arbitrary subscription payments,\n            // or we use the custom one we just discussed building.\n            const response = await fetch(`${BASE_URL}/api/subscription/checkout`, {\n                method: \"POST\",\n                headers: { \"Content-Type\": \"application/json\" },\n                body: JSON.stringify({\n                    plan,\n                    baseAmount, // tell the backend exactly how much if custom\n                    couponCode: coupon,\n                    ...form\n                })\n            });\n\n            const data = await response.json();\n\n            if (!data.razorpay_key) {\n                throw new Error(data.error || \"Payment initiation failed\");\n            }\n\n            const options = {\n                key: data.razorpay_key,\n                amount: data.amount, // from backend\n                currency: \"INR\",\n                order_id: data.order_id,\n                name: \"ExamPortal by Vijay Software\",\n                description: `Subscription: ${plan.toUpperCase()}`,\n                handler: async function (response) {\n                    try {\n                        const subscribeRes = await fetch(import.meta.env.VITE_API_URL ? `${import.meta.env.VITE_API_URL}/auth/subscribe` : \"http://localhost:8082/auth/subscribe\", {\n                            method: \"POST\",\n                            headers: { \"Content-Type\": \"application/json\" },\n                            body: JSON.stringify({\n                                orgName: form.orgName,\n                                firstName: form.firstName,\n                                lastName: form.lastName,\n                                email: form.email,\n                                password: form.password,\n                                phone: form.phone,\n                                address: `${form.street}, ${form.city}, ${form.state} ${form.zipCode}, ${form.country}`,\n                                plan\n                            })\n                        });\n                        const subscribeData = await subscribeRes.json();\n                        if (!subscribeRes.ok) throw new Error(subscribeData.error || \"Failed to register subscription credentials.\");\n\n                        alert(\"Payment successful! Subscription activated. You can now log in.\");\n                        navigate(\"/login\");\n                    } catch (err) {\n                        alert(\"Payment was successful but we couldn't create your account: \" + err.message);\n                    }\n                },\n                modal: {\n                    ondismiss: function () {\n                        setLoading(false);\n                    }\n                },\n                prefill: {\n                    name: `${form.firstName} ${form.lastName}`,\n                    email: form.email,\n                    contact: form.phone\n                },\n                theme: { color: \"#4f46e5\" }\n            };\n\n            const rzp = new window.Razorpay(options);\n            rzp.on('payment.failed', function (response) {\n                alert(\"Payment failed: \" + response.error.description);\n                setLoading(false);\n            });\n            rzp.open();\n\n        } catch (error) {\n            alert(error.message);\n            setLoading(false);\n        }\n    };\n\n    const totalAmount = baseAmount - discount;\n\n    return (\n        <div className=\"min-h-screen bg-slate-50 pt-24 pb-12 font-sans text-slate-800\">\n            <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n                <div className=\"flex items-center space-x-4 mb-8\">\n                    <button onClick={() => navigate('/')} className=\"text-blue-600 hover:text-blue-700 font-medium flex items-center transition\">\n                        <svg className=\"w-5 h-5 mr-1\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\"><path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M10 19l-7-7m0 0l7-7m-7 7h18\"></path></svg>\n                        Back\n                    </button>\n                    <h1 className=\"text-3xl font-extrabold text-slate-900 tracking-tight\">\n                        Complete your Subscription\n                    </h1>\n                </div>\n\n                <form onSubmit={handlePayNow} className=\"grid grid-cols-1 lg:grid-cols-12 gap-8 lg:gap-12\">\n\n                    {/* LEFT SIDE: BILLING */}\n                    <div className=\"lg:col-span-7 xl:col-span-8 space-y-6 bg-white p-8 sm:p-10 rounded-2xl border border-slate-200 shadow-sm\">\n                        <h2 className=\"text-xl font-bold mb-6 text-slate-800 border-b border-slate-100 pb-4\">Organization & Billing</h2>\n\n                        <div className=\"mb-5\">\n                            <label className=\"block text-sm font-semibold text-slate-700 mb-1.5\">Organization / Institution Name <span className=\"text-red-500\">*</span></label>\n                            <input onChange={handleChange} name=\"orgName\" value={form.orgName} type=\"text\" className=\"w-full bg-slate-50 border border-slate-200 text-slate-900 rounded-lg py-2.5 px-4 focus:bg-white focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-all\" required placeholder=\"University / Company Name\" />\n                        </div>\n\n                        <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-5 mb-5\">\n                            <div>\n                                <label className=\"block text-sm font-semibold text-slate-700 mb-1.5\">First Name</label>\n                                <input onChange={handleChange} name=\"firstName\" value={form.firstName} type=\"text\" className=\"w-full bg-slate-50 border border-slate-200 text-slate-900 rounded-lg py-2.5 px-4 focus:bg-white focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-all\" required />\n                            </div>\n                            <div>\n                                <label className=\"block text-sm font-semibold text-slate-700 mb-1.5\">Last Name</label>\n                                <input onChange={handleChange} name=\"lastName\" value={form.lastName} type=\"text\" className=\"w-full bg-slate-50 border border-slate-200 text-slate-900 rounded-lg py-2.5 px-4 focus:bg-white focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-all\" required />\n                            </div>\n                        </div>\n\n                        <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-5\">\n                            <div>\n                                <label className=\"block text-sm font-semibold text-slate-700 mb-1.5\">Email <span className=\"text-red-500\">*</span></label>\n                                <input onChange={handleChange} name=\"email\" value={form.email} type=\"email\" className=\"w-full bg-slate-50 border border-slate-200 text-slate-900 rounded-lg py-2.5 px-4 focus:bg-white focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-all\" required />\n                            </div>\n                            <div>\n                                <label className=\"block text-sm font-semibold text-slate-700 mb-1.5\">Phone <span className=\"text-red-500\">*</span></label>\n                                <input onChange={handleChange} name=\"phone\" value={form.phone} type=\"tel\" className=\"w-full bg-slate-50 border border-slate-200 text-slate-900 rounded-lg py-2.5 px-4 focus:bg-white focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-all\" required />\n                            </div>\n                        </div>\n\n                        <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-5 mb-5\">\n                            <div>\n                                <label className=\"block text-sm font-semibold text-slate-700 mb-1.5\">Password <span className=\"text-red-500\">*</span></label>\n                                <input onChange={handleChange} name=\"password\" value={form.password} type=\"password\" minLength=\"6\" className=\"w-full bg-slate-50 border border-slate-200 text-slate-900 rounded-lg py-2.5 px-4 focus:bg-white focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-all\" required placeholder=\"To access your dashboard\" />\n                            </div>\n                            <div>\n                                <label className=\"block text-sm font-semibold text-slate-700 mb-1.5\">Confirm Password <span className=\"text-red-500\">*</span></label>\n                                <input onChange={handleChange} name=\"confirmPassword\" value={form.confirmPassword} type=\"password\" minLength=\"6\" className=\"w-full bg-slate-50 border border-slate-200 text-slate-900 rounded-lg py-2.5 px-4 focus:bg-white focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-all\" required placeholder=\"Re-enter password\" />\n                            </div>\n                        </div>\n\n                        <div>\n                            <label className=\"block text-sm font-semibold text-slate-700 mb-1.5\">Address <span className=\"text-red-500\">*</span></label>\n                            <input onChange={handleChange} name=\"street\" value={form.street} type=\"text\" className=\"w-full bg-slate-50 border border-slate-200 text-slate-900 rounded-lg py-2.5 px-4 focus:bg-white focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-all mb-3\" required placeholder=\"Street Address\" />\n\n                            <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-5 mb-3\">\n                                <input onChange={handleChange} name=\"city\" value={form.city} type=\"text\" className=\"w-full bg-slate-50 border border-slate-200 text-slate-900 rounded-lg py-2.5 px-4 focus:bg-white focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-all\" required placeholder=\"City\" />\n                                <input onChange={handleChange} name=\"state\" value={form.state} type=\"text\" className=\"w-full bg-slate-50 border border-slate-200 text-slate-900 rounded-lg py-2.5 px-4 focus:bg-white focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-all\" required placeholder=\"State / Province\" />\n                            </div>\n\n                            <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-5\">\n                                <input onChange={handleChange} name=\"zipCode\" value={form.zipCode} type=\"text\" className=\"w-full bg-slate-50 border border-slate-200 text-slate-900 rounded-lg py-2.5 px-4 focus:bg-white focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-all\" required placeholder=\"Zip Code\" />\n                                <input onChange={handleChange} name=\"country\" value={form.country} type=\"text\" className=\"w-full bg-slate-50 border border-slate-200 text-slate-900 rounded-lg py-2.5 px-4 focus:bg-white focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-all\" required placeholder=\"Country\" />\n                            </div>\n                        </div>\n                    </div>\n\n                    {/* RIGHT SIDE: ORDER SUMMARY */}\n                    <div className=\"lg:col-span-5 xl:col-span-4 h-full relative\">\n                        {/* Sticky container for larger screens */}\n                        <div className=\"sticky top-24 bg-white p-8 rounded-2xl border border-slate-200 shadow-xl flex flex-col justify-between overflow-hidden\">\n                            {/* Decorative top accent */}\n                            <div className=\"absolute top-0 left-0 right-0 h-1.5 bg-gradient-to-r from-blue-500 to-indigo-500\"></div>\n\n                            <div>\n                                <h2 className=\"text-xl font-bold mb-6 text-slate-800 border-b border-slate-100 pb-4\">Order Summary</h2>\n\n                                <div className=\"space-y-4 mb-8\">\n                                    <div className=\"flex justify-between items-center bg-slate-50 border border-slate-100 p-4 rounded-xl\">\n                                        <span className=\"font-semibold text-slate-600\">Plan: <span className=\"text-slate-900 capitalize ml-1\">{plan}</span></span>\n                                        <span className=\"font-bold text-slate-900\">₹{baseAmount.toLocaleString()}</span>\n                                    </div>\n\n                                    <div className=\"mt-6\">\n                                        <label className=\"block text-sm font-semibold text-slate-700 mb-1.5\">Coupon Code</label>\n                                        <div className=\"flex gap-2\">\n                                            <input\n                                                type=\"text\"\n                                                value={coupon}\n                                                onChange={(e) => setCoupon(e.target.value.toUpperCase())}\n                                                placeholder=\"Enter code\"\n                                                className=\"bg-white border border-slate-200 text-slate-900 rounded-lg py-2.5 px-4 flex-1 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none uppercase font-medium\"\n                                            />\n                                            <button type=\"button\" onClick={validateCoupon} className=\"bg-slate-800 hover:bg-slate-900 text-white px-5 py-2.5 rounded-lg font-semibold transition-colors shadow-sm\">\n                                                Apply\n                                            </button>\n                                        </div>\n                                    </div>\n\n                                    {couponError && <p className=\"text-red-500 text-sm font-medium\">{couponError}</p>}\n                                    {isCouponApplied && (\n                                        <div className=\"flex justify-between items-center text-emerald-600 font-semibold bg-emerald-50 p-3 rounded-lg border border-emerald-100 mt-2\">\n                                            <span className=\"flex items-center\">\n                                                <svg className=\"w-4 h-4 mr-1.5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\"><path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z\"></path></svg>\n                                                Discount Applied\n                                            </span>\n                                            <span>- ₹{discount.toLocaleString()}</span>\n                                        </div>\n                                    )}\n                                </div>\n                            </div>\n\n                            <div>\n                                <div className=\"flex justify-between items-center mb-6 bg-blue-50/50 p-5 rounded-xl border border-blue-100\">\n                                    <span className=\"text-lg font-bold text-slate-800\">Total Due</span>\n                                    <span className=\"text-3xl font-extrabold text-blue-600 flex items-baseline tracking-tight\">\n                                        <span className=\"text-blue-500 text-xl mr-1 font-bold\">₹</span>\n                                        {totalAmount.toLocaleString()}\n                                    </span>\n                                </div>\n\n                                <button\n                                    type=\"submit\"\n                                    disabled={loading}\n                                    className=\"w-full py-4 rounded-xl bg-blue-600 hover:bg-blue-700 disabled:bg-blue-400 text-white font-bold text-lg shadow-md hover:shadow-lg transform hover:-translate-y-0.5 transition-all flex justify-center items-center\"\n                                >\n                                    {loading ? (\n                                        <svg className=\"animate-spin h-6 w-6 text-white\" fill=\"none\" viewBox=\"0 0 24 24\"><circle className=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" strokeWidth=\"4\"></circle><path className=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path></svg>\n                                    ) : (\n                                        \"Proceed to Pay Secured\"\n                                    )}\n                                </button>\n                                <div className=\"text-center mt-5 flex items-center justify-center text-slate-500 text-sm font-medium\">\n                                    <svg className=\"w-4 h-4 mr-1.5 text-emerald-500\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\"><path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z\" /></svg>\n                                    Payments are 100% secured by Razorpay\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </form>\n            </div>\n        </div>\n    );\n}\n"],"names":["BASE_URL","Checkout","location","useLocation","navigate","useNavigate","searchParams","plan","amountParam","baseAmount","form","setForm","useState","coupon","setCoupon","loading","setLoading","discount","setDiscount","isCouponApplied","setIsCouponApplied","couponError","setCouponError","handleChange","e","validateCoupon","data","discountAmount","err","handlePayNow","options","response","subscribeRes","subscribeData","rzp","error","totalAmount","jsxs","jsx"],"mappings":"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"}